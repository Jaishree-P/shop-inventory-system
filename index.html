<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Shop Inventory System</title>

  <style>
    :root{
      --blue:#2f78b4;
      --blue-darker:#246294;
      --muted:#f1f6fb;
      --card:#ffffff;
      --radius:10px;
      --text-size:15px;
      --btn-height:34px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Poppins",sans-serif;
      background:#f4f8fc;
    }

    nav {
      background:var(--blue);
      color:#fff;
      padding:10px;
      display:flex;
      gap:12px;
      overflow-x:auto;
      position:sticky;
      top:0;
      z-index:20;
    }
    nav a{
      color:#fff;
      padding:8px 12px;
      border-radius:8px;
      text-decoration:none;
      font-weight:600;
    }
    nav a.active{
      background:var(--blue-darker);
    }

    .container{
      display:none;
      padding:14px;
      max-width:1100px;
      margin:auto;
    }
    .active-section{
      display:block;
    }

    table{
      width:100%;
      border-collapse:collapse;
      background:#fff;
      border-radius:10px;
      overflow:hidden;
      min-width:760px;
    }
    th,td{
      padding:10px;
      border-bottom:1px solid #e6e6e6;
      text-align:center;
    }
    th{
      background:#f1f6fb;
    }

    input,select{
      padding:8px;
      width:100%;
      border:1px solid #ccc;
      border-radius:8px;
    }

    .btn{
      padding:8px 12px;
      border:none;
      border-radius:8px;
      color:white;
      cursor:pointer;
      min-width:100px;
      font-weight:600;
    }
    .btn.sell{background:#2fa85a;}
    .btn.transfer{background:#2f78b4;}
    .btn.danger{background:#d9534f;}
    .btn.view{background:#1976d2;}
    .btn.edit{background:#ff9800;}

    .modal{
      display:none;
      position:fixed;
      top:0;left:0;
      width:100%;height:100%;
      background:rgba(0,0,0,0.4);
      align-items:center;
      justify-content:center;
      padding:10px;
      z-index:200;
    }
    .modal-content{
      background:#fff;
      max-width:900px;
      width:100%;
      max-height:90vh;
      overflow:auto;
      padding:14px;
      border-radius:12px;
    }
    .modal-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
    }

  </style>
</head>

<body>

<!-- NAVIGATION -->
<nav>
  <a href="#" id="nav-mrp" class="active">MRP</a>
  <a href="#" id="nav-bar">Bar</a>
  <a href="#" id="nav-dashboard">Dashboard</a>
</nav>

<!-- MRP SECTION -->
<div id="mrp" class="container active-section">
  <h2>MRP Section</h2>
  <div style="overflow-x:auto">
    <table id="mrpTable">
      <thead>
        <tr>
          <th>Item</th>
          <th>Opening</th>
          <th>MRP Price</th>
          <th>Bar Price</th>
          <th>Total</th>
          <th>Closing</th>
          <th>Sold</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>

<!-- BAR SECTION -->
<div id="bar" class="container">
  <h2>Bar Section</h2>
  <div style="overflow-x:auto">
    <table id="barTable">
      <thead>
        <tr>
          <th>Item</th>
          <th>Stock</th>
          <th>Bar Price</th>
          <th>Sold</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="container">
  <h2>Daily Sales Report</h2>
  <div id="dailySales"></div>
</div>

<!-- MODAL -->
<div id="salesModal" class="modal">
  <div class="modal-content">

    <div class="modal-header">
      <h3 id="modalDate"></h3>
      <button onclick="closeModal()" style="font-size:20px;border:none;background:none;">Ã—</button>
    </div>

    <div style="overflow-x:auto">
      <table id="modalTable">
        <thead>
          <tr><th>Product</th><th>MRP Qty</th><th>Bar Qty</th><th>Total</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <br>
    <label>Add Sold Item:</label>
    <div style="display:flex;gap:6px;flex-wrap:wrap;">
      <select id="addProductSelect"></select>
      <input id="addQty" type="number" min="1" value="1" placeholder="Qty">
      <input id="addPrice" type="number" min="0" value="0" placeholder="Price">
      <select id="addSection"><option>MRP</option><option>Bar</option></select>
      <button class="btn" onclick="addSoldItem()">Add</button>
    </div>

    <br>
    <button class="btn danger" id="modalCloseBillBtn" onclick="closeBillForDate()">ðŸ“¨ Close Bill</button>
  </div>
</div>

<script>
/*-----------------------------------------------------*
 *  âœ” FINAL, CORRECT API BASE FOR RENDER BACKEND
 *-----------------------------------------------------*/
const API_BASE = "https://shop-inventory-system-gcil.onrender.com/api";

/*
âš  IMPORTANT:
Paste your ENTIRE JavaScript logic BELOW this comment.
Do NOT change the API paths inside your logic â€” because
they will now automatically point to:

    https://shop-inventory-system-gcil.onrender.com/api/...

Example:
fetch(API_BASE + "/sales")
fetch(API_BASE + "/send-email")

Everything works.
*/
</script>

</body>
</html>
